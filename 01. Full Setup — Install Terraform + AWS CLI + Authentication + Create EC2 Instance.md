# 🧩 **SOP: Complete Terraform + AWS Setup — From Account Creation to EC2 Launch** 💻☁️

---

## 🎯 **Goal**

By the end of this SOP, you’ll:
✅ Have an AWS Free Tier account ready 🌍
✅ Generate your Access Key & Secret Key 🔐
✅ Install Terraform + AWS CLI 🧱
✅ Configure Terraform authentication using **hardcoded credentials (for learning only)**
✅ Create, verify, and destroy your first **EC2 instance** in AWS 🚀
✅ Understand the real power of IaC (Infrastructure as Code)

---

## 🌍 **Section 1 – Create Your AWS Free Tier Account** 🪄

### 🧠 Why:

You need a working AWS account to deploy Terraform-managed resources like EC2, S3, and VPC.

---

### 🪜 Steps

1️⃣ **Go to AWS Free Tier Page**
🔗 [https://aws.amazon.com/free](https://aws.amazon.com/free) → Click **“Create a Free Account.”**

2️⃣ **Enter Basic Info**
Provide a valid email, choose a password, and a unique account name.

3️⃣ **Select Account Type**
Pick **Personal Account** (recommended for learning).

4️⃣ **Add Payment Method**
💳 Enter a valid card — AWS charges ₹2 / $1 (refunded). It’s just identity verification.

5️⃣ **Verify Your Identity**
AWS will send an OTP to your registered phone number. Enter it to continue.

6️⃣ **Select Support Plan**
Choose **Basic Plan – Free** ✅

7️⃣ **Wait for Confirmation**
Check your email for **“Welcome to AWS”** — this means your account is live 🎉

---

### 💡 Use Case:

Now you can deploy resources under **Free Tier**, such as:

* 🖥️ EC2 (Virtual Machines)
* 💾 S3 (Storage Buckets)
* 🧠 Lambda (Serverless Functions)
* 🗄️ RDS (Databases)
* 🌐 VPC (Networks)

All of these can be automated with **Terraform** 💪

---

## 🔐 **Section 2 – Create Your Access Key & Secret Key**

### 🧠 Why:

Terraform (and the AWS CLI) need these credentials to securely talk to your AWS account.

---

### 🪜 Steps

1️⃣ **Log In**
Go to 👉 [https://console.aws.amazon.com](https://console.aws.amazon.com)

2️⃣ **Open IAM Service**
Search for **IAM** (Identity and Access Management) → Click it.

3️⃣ **Create a New User**

* Click **Users → Add users**
* Enter a username (e.g., `terraform-user`)
* ✅ Enable **Access key – Programmatic access**

4️⃣ **Set Permissions**
For learning: choose **Attach existing policies directly → AdministratorAccess**

5️⃣ **Skip Tags → Create User**

6️⃣ **Download the Credentials**
Save the `.csv` file showing:

```
Access Key ID:     AKIAIOSFODNN7EXAMPLE
Secret Access Key:  wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
```

⚠️ You **cannot see the Secret Key again**, so store it securely.

---

### 💡 Use Case:

Terraform uses these credentials to **create, update, and delete AWS resources** — no manual console work needed.

---

## 🧱 **Section 3 – Install Terraform**

### 🧠 Why:

Terraform lets you **create and manage cloud infrastructure (EC2, S3, VPC, etc.) using code** instead of clicking through the AWS Console.

But it’s not just for AWS — it also supports:
☁️ AWS | 🟦 Azure | 🟨 GCP | 🧠 Oracle Cloud | 🐳 Docker | ☸️ Kubernetes | +200 more providers

---

### ⚙️ Commands (Ubuntu/Debian):

```bash
sudo apt-get update -y
sudo apt-get install -y gnupg software-properties-common curl
curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/hashicorp.list
sudo apt-get update -y
sudo apt-get install terraform -y
```

✅ **Verify Installation:**

```bash
terraform -version
```

Expected output:

```
Terraform v1.x.x
```

💡 **Use Case:**
Now your system can define and deploy infrastructure using `.tf` files.

---

## ☁️ **Section 4 – Install AWS CLI**

### 🧠 Why:

The AWS CLI allows Terraform to validate your credentials and interact with AWS APIs directly.

---

### ⚙️ Commands:

```bash
sudo apt install unzip -y
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install
```

✅ **Verify Installation:**

```bash
aws --version
```

Expected output:

```
aws-cli/2.x.x Python/3.x.x ...
```

💡 **Use Case:**
You can test AWS connections or manage services manually when needed.

---

## 📁 **Section 5 – Set Up Terraform Project and Authentication**

### 🧠 Why:

You’ll now connect Terraform to AWS using the Access Key & Secret Key you created earlier.

---

### 🪜 Steps

1️⃣ Create a project folder:

```bash
mkdir terraform-aws-demo
cd terraform-aws-demo
```

2️⃣ Create `provider.tf` file:

```hcl
provider "aws" {
  region     = "ap-south-1"          # Mumbai region
  access_key = "YOUR_AWS_ACCESS_KEY"
  secret_key = "YOUR_AWS_SECRET_KEY"
}
```

💡 **Use Case:**
This authenticates Terraform to your AWS account for all future deployments.

⚠️ **Security Warning:** Never use hardcoded keys in production — this is just for learning.

---

## 🖥️ **Section 6 – Create EC2 Instance with Terraform**

1️⃣ Create a new file called `ec2.tf`

```hcl
resource "aws_instance" "demo_instance" {
  ami           = "ami-0dee22c13ea7a9a67"   # Ubuntu 22.04 (Mumbai)
  instance_type = "t2.micro"

  tags = {
    Name = "Terraform-EC2-Demo"
  }
}
```

💡 **Use Case:**
This configuration launches an Ubuntu EC2 instance under the free tier.

---

## ⚙️ **Section 7 – Initialize Terraform**

```bash
terraform init
```

✅ Output:

```
Terraform has been successfully initialized!
```

💡 **Use Case:**
Downloads provider plugins and prepares Terraform to run.

---

## 🔍 **Section 8 – Plan Deployment**

```bash
terraform plan
```

✅ Output shows the EC2 instance Terraform will create.

💡 **Use Case:**
Preview changes before deploying — safe testing before action.

---

## 🚀 **Section 9 – Apply and Create EC2 Instance**

```bash
terraform apply -auto-approve
```

✅ Output:

```
Apply complete! Resources: 1 added, 0 changed, 0 destroyed.
```

💡 **Use Case:**
Terraform connects to AWS and creates the instance automatically — zero manual steps.

---

## 👀 **Section 10 – Verify on AWS Console**

* Go to **AWS Console → EC2 → Instances**
* You’ll see an instance named **Terraform-EC2-Demo**

💡 **Use Case:**
Proof your automation worked 🎉

---

## 💣 **Section 11 – Destroy When Done**

```bash
terraform destroy -auto-approve
```

✅ Output:

```
Destroy complete! Resources: 1 destroyed.
```

💡 **Use Case:**
Removes all created resources — prevents extra billing.

---

## 🧾 **Summary Table**

| Step | Purpose              | Command / File                 | Result                     |
| ---- | -------------------- | ------------------------------ | -------------------------- |
| 🌍   | Create AWS Account   | aws.amazon.com/free            | Free Tier ready            |
| 🔐   | Generate Access Keys | IAM → Users → Add User         | Credentials ready          |
| 🧱   | Install Terraform    | `apt install terraform`        | IaC tool ready             |
| ☁️   | Install AWS CLI      | `curl + unzip + ./aws/install` | CLI ready                  |
| 📁   | Set up Project       | `mkdir terraform-aws-demo`     | Workspace created          |
| 🔑   | Auth + Region        | `provider.tf`                  | AWS credentials configured |
| 🖥️  | Define EC2           | `ec2.tf`                       | Instance definition ready  |
| ⚙️   | Initialize           | `terraform init`               | Plugin setup done          |
| 🔍   | Plan                 | `terraform plan`               | Preview of changes         |
| 🚀   | Apply                | `terraform apply`              | EC2 created                |
| 💣   | Destroy              | `terraform destroy`            | Environment cleaned        |

---

## ⚠️ Security Notes (Be Smart 🔐)

* ❌ Never commit `.tf` files with credentials to GitHub
* 🧱 Use IAM roles, AWS CLI auth, or environment variables for real projects
* 🧠 Treat your Access Key like a password — it can fully control your AWS account
----
